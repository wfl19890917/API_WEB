{% extends 'base.html' %}
{% block title %}
    API自动化平台
{% endblock %}
{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/index.css') }}">
{% endblock %}
{% block main %}
    <div class="tpl-content-wrapper " style="margin-top: -7px;">
        <div class="tpl-content-page-title"></div>
        <div class="tpl-portlet-components" style="">
            <div class="portlet-title">
                <div class="caption font-green bold">
                    <span class="am-icon-code"></span> 测试报告执行情况
                </div>
            </div>
                <div style="margin-top: 10px">
                    <a href="{{url_for('down_report')}}">
                        <input type="button" name="" class="am-btn am-btn-default am-btn-success" value="下载报告">
                        </a>
                </div>
                <div style="background-color:blue;float:left;margin:5px 0;color:white;">全部用例:{{all_count}}</div>
                <div style="background-color:green;float:left;margin:5px 0;color:white;">成功用例:{{pass_count}}</div>
                <div style="background-color:red;float:left;margin:5px 0;color:white;">失败用例:{{fail_count}}</div>
                <table class="am-table am-table-hover table-main" style="width:100%;table-layout:fixed;">
                <tr>
                <th style="text-align:center;">用例id</th>
                <th style="text-align:center;">接口名称</th>
                <th style="text-align:center;">用例名称</th>
                <th style="text-align:center;">请求方法</th>
                <th style="text-align:center;">接口url</th>
                <th style="text-align:center;">请求参数</th>
                <th style="text-align:center;">header</th>
                <th style="text-align:center;">msg校验值</th>
                <th style="text-align:center;">code校验值</th>
                <th style="text-align:center;">预期结果</th>
                <th style="text-align:center;">状态</th>
                <th style="text-align:center;">实际结果</th>
                <th style="text-align:center;">操作</th>
                {% for report in reports %}
                <tr>
                <td style="text-align:center;">{{report.id}}</td>
                <td style="text-align:center;">{{report.inter_name}}</td>
                <td style="text-align:center;">{{report.case_name}}</td>
                <td style="text-align:center;">{{report.method}}</td>
                <td style="text-align:center;">{{report.url}}</td>
                <td style="text-align:center;">{{report.data}}</td>
                <td style="text-align:center;">{{report.header}}</td>
                <td style="text-align:center;">{{report.msg}}</td>
                <td style="text-align:center;">{{report.code}}</td>
                <td style="text-align:center;">{{report.expect}}</td>
                <td style="text-align:center;">{{report.status}}</td>      
                <td style="text-align:center;">{{report.actual}}</td>
                <td style="text-align:center;"><a href="{{url_for('edit_report',id=report.id)}}"><input type="button" value="编辑"></a>
                <a href="{{url_for('delete_report',id=report.id)}}"><input type="button" value="删除"></a></td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}
